<!DOCTYPE html>
<!--#if expr="$HTTP_COOKIE=/fonts\-loaded=true/" -->
<html lang="en" class="fonts-loaded">
<!--#else -->
<html lang="en">
<!--#endif -->

<head>
  <meta charset="utf-8">
  <title>Dynamic Framework with CocoaPods support</title>
  <link rel="canonical" href="https://macteo.it/xcode/2016/10/18/dynamic-framework-with-cocoapods-support.html">
  <link rel="alternate" title="Matteo Gavagnin" type="application/rss+xml" href="https://macteo.it/feed.xml" />
  <link rel="alternate" title="Matteo Gavagnin" type="application/json" href="https://macteo.it/feed.json" />
  <meta name="description" content="Matteo Gavagnin's personal website
">
  <meta name="author" content="Matteo Gavagnin">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <link rel="stylesheet" href="/assets/css/all.css">
  <link rel="shortcut icon" href="/assets/images/favicon/favicon.ico" type="image/x-icon" />
  <link rel="mask-icon" href="/assets/images/favicon/favicon-pin.svg" color="#056BB1">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/favicon/dolomate-57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicon/dolomate-60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicon/dolomate-72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicon/dolomate-76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicon/dolomate-114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicon/dolomate-120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicon/dolomate-144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicon/dolomate-152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/dolomate-180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/images/favicon/dolomate-192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/dolomate-32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/images/favicon/dolomate-96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/dolomate-16.png">
  <link rel="manifest" href="/assets/images/favicon/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/images/favicon/dolomate-144.png">
  <meta name="theme-color" content="#ffffff">
</head>


<body>
  <nav class="navbar">
  <ul class="navbar-list">
    <li class="navbar-item"><a class="navbar-link" href="/#interests">Interests</a></li>
    <li class="navbar-item"><a class="navbar-link" href="/#jobs">Jobs</a></li>
    <li class="navbar-item"><a class="navbar-link" href="/#products">Products</a></li>
    <li class="navbar-item"><a class="navbar-link" href="/blog">Blog</a></li>
  </ul>
</nav>

  <div class="container blog">
    <section class="header">
  <a href="/"><img src="/assets/images/macteo.jpg" class="profile small"/></a>
</section>

    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline" align="center">Dynamic Framework with CocoaPods support</h1>
    <p class="post-meta"><time datetime="2016-10-18T09:04:00+00:00" itemprop="datePublished">Oct 18, 2016</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>A short and compact guide to create a basic redistributable framework with CocoaPods support. This example is intended to work on iOS, but the same principles can be applied to watchOS, tvOS and macOS.</p>

<p>Create a new Xcode project and select <strong>Cocoa Touch Framework</strong>.</p>

<p><img src="/assets/images/framework/001 - create_xcode_framework_project_0.jpg#center1000" alt="Framework" /></p>

<p>For redistributable libraries Objective-C is still the language-to-go. But you can also choose to write them in Swift if the host apps are willing to include the swift runtime.</p>

<p><img src="/assets/images/framework/002 - create_xcode_framework_project_1.jpg#center1000" alt="Framework" /></p>

<p><img src="/assets/images/framework/003 - create_xcode_framework_project_2.jpg#center1000" alt="Framework" /></p>

<p>Set the right version, 0.1.0 is a good start point.
Check the <strong>Allow app extension API only</strong> if you plan to use your framework from inside app extensions.</p>

<p><img src="/assets/images/framework/004 - xcode_version_and_extension.jpg#center1000" alt="Framework" /></p>

<p>Create at least a new class.</p>

<p><img src="/assets/images/framework/005 - create_classes.jpg#center1000" alt="Framework" /></p>

<p>Populate the header file.</p>

<p><img src="/assets/images/framework/006 - write_headers.jpg#center1000" alt="Framework" /></p>

<p>Implement the methods.</p>

<p><img src="/assets/images/framework/007 - implement_classes.jpg#center1000" alt="Framework" /></p>

<p>Import your header files in the <em>Umbrella</em> <code class="highlighter-rouge">Awesome.h</code> header file so they will be accessible.</p>

<p><img src="/assets/images/framework/008 - populate_umbrella_header.jpg#center1000" alt="Framework" /></p>

<p>Open <strong>Terminal</strong> and move into the project folder, for example</p>

<p><code class="highlighter-rouge">bash
cd ~/Documents/Projects/Awesome
</code></p>

<p><img src="/assets/images/framework/009 - terminal_move_to_folder.jpg#center1000" alt="Framework" /></p>

<p>Install <a href="http://cocoapods.org">CocoaPods</a> gem if you donâ€™t have it already.</p>

<p><code class="highlighter-rouge">bash
[sudo] gem install cocoapods
</code></p>

<p><img src="/assets/images/framework/010 - install_cocoapods.jpg#center1000" alt="Framework" /></p>

<p><code class="highlighter-rouge">bash
pod spec create Awesome
</code></p>

<p><img src="/assets/images/framework/011 - create_podspec.jpg#center1000" alt="Framework" /></p>

<p><img src="/assets/images/framework/012 - finder_structure.jpg#center1000" alt="Framework" /></p>

<p>Edit <code class="highlighter-rouge">Awesome.podspec</code></p>

<p><img src="/assets/images/framework/013 - edit_podspec.jpg#center1000" alt="Framework" /></p>

<p><img src="/assets/images/framework/014 - final_podspec.jpg#center1000" alt="Framework" /></p>

<p>Add a license file</p>

<p><img src="/assets/images/framework/015 - add_license_file.jpg#center1000" alt="Framework" /></p>

<p>Create a remote repository and add it the local copy</p>

<p><code class="highlighter-rouge">bash
git remote add origin git@github.com/macteo/Awesome.git
</code></p>

<p>Commit and push</p>

<p><code class="highlighter-rouge">bash
git push origin master
</code></p>

<p><img src="/assets/images/framework/016 - commit_and_push.jpg#center1000" alt="Framework" /></p>

<p><code class="highlighter-rouge">bash
git tag v0.1.0
git push --tags
</code></p>

<p><img src="/assets/images/framework/017 - add_tag.jpg#center1000" alt="Framework" /></p>

<p><code class="highlighter-rouge">bash
pod spec lint Awesome.podspec
</code></p>

<p><img src="/assets/images/framework/018 - lint.jpg#center1000" alt="Framework" /></p>

<p>Create a sample project inside the main folder.</p>

<p><img src="/assets/images/framework/019 - create_sample_project_0.jpg#center1000" alt="Framework" /></p>

<p><img src="/assets/images/framework/020 - create_sample_project_1.jpg#center1000" alt="Framework" /></p>

<p><img src="/assets/images/framework/021 - create_sample_project_2.jpg#center1000" alt="Framework" /></p>

<p><code class="highlighter-rouge">bash
cd AwesomeExample
pod init
</code></p>

<p><img src="/assets/images/framework/022 - move_to_sample_project_and_init_pods.jpg#center1000" alt="Framework" /></p>

<p>Edit podfile to include the previously defined podspec. We use relative path for the example project.</p>

<p><code class="highlighter-rouge">ruby
pod 'Awesome', :path =&gt; '../'
</code></p>

<p><img src="/assets/images/framework/023 - edit_podfile.jpg#center1000" alt="Framework" /></p>

<p><code class="highlighter-rouge">bash
pod install
</code></p>

<p><img src="/assets/images/framework/024 - pod_install.jpg#center1000" alt="Framework" /></p>

<p><img src="/assets/images/framework/025 - final_project_structure.jpg#center1000" alt="Framework" /></p>

<p><img src="/assets/images/framework/026 - open_sample_project.jpg#center1000" alt="Framework" /></p>

<p>Build so the dependencies are prepared</p>

<p><code class="highlighter-rouge">swift
import Awesome
</code></p>

<p><code class="highlighter-rouge">swift
AwesomeLogger().log("Hello World")
</code></p>

<p><img src="/assets/images/framework/027 - final_result.jpg#center1000" alt="Framework" /></p>

<p>Edit <strong>Awesome.podspec</strong> and bump version number.</p>

<p><img src="/assets/images/framework/028 - bump_version.jpg#center1000" alt="Framework" /></p>

<p>Add sample project files, commit, push and tag.</p>

<p><code class="highlighter-rouge">bash
git add .
git commit -m "Added sample project"
git push origin master
git tag v0.1.1
git push --tags
</code></p>

<p><img src="/assets/images/framework/029 - add_sample_project.jpg#center1000" alt="Framework" /></p>

<p><img src="/assets/images/framework/030 - create_new_tag_and_push.jpg#center1000" alt="Framework" /></p>

  </div>

</article>

    <div class="docs-section" id="contacts">
  <h4 class="docs-header footer">Contacts</h4>
  <div class="row">
    <div class="three columns empty">
      &nbsp;
    </div>
    <div class="six columns">
      <center>
        <a href="https://twitter.com/macteo"><img src="/assets/images/icons/twitter.svg" class="logo-small" alt="twitter"/></a>
        <a href="https://telegram.me/macteog"><img src="/assets/images/icons/telegram.svg" class="logo-small" alt="telegram"/></a>
        <a href="https://github.com/macteo"><img src="/assets/images/icons/github.svg" class="logo-small" alt="github"/></a>
        <a href="mailto:m@macteo.it"><img src="/assets/images/icons/email.svg" class="logo-small" alt="email"/></a>
      </center>
    </div>
  </div>
  <div align="center">
    <sub>Leave this world a little better than you found it<a href="https://en.wikiquote.org/wiki/Robert_Baden-Powell"><sup>1</sup></a></sub>
  </div>
</div>

<script type="text/javascript">
  function downloadJSAtOnload() {
    var all = document.createElement("script");
    all.src = "/assets/js/all.js";
    document.body.appendChild(all);
  }
  if (window.addEventListener) {
    window.addEventListener("load", downloadJSAtOnload, false);
  } else if (window.attachEvent) {
    window.attachEvent("onload", downloadJSAtOnload);
  } else {
    window.onload = downloadJSAtOnload;
  }
</script>

<link rel="stylesheet" href="/assets/css/raleway.css">

  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67703523-2', 'auto');
  ga('send', 'pageview');

</script>
</body>

</html>
