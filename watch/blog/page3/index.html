<!DOCTYPE html>
<!--#if expr="$HTTP_COOKIE=/fonts\-loaded=true/" -->
<html lang="en" class="fonts-loaded">
  <!--#else -->
  <html lang="en">
    <!--#endif -->

    <head>
  <meta charset="utf-8">
  <title>Matteo Gavagnin</title>
  <link rel="canonical" href="http://0.0.0.0:4000/blog/page3/">
  <link rel="alternate" title="Matteo Gavagnin" type="application/rss+xml" href="http://0.0.0.0:4000/feed.xml" />
  <link rel="alternate" title="Matteo Gavagnin" type="application/json" href="http://0.0.0.0:4000/feed.json" />
  <meta name="description" content="Matteo Gavagnin's personal website
">
  <meta name="author" content="Matteo Gavagnin">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
  <link rel="stylesheet" href="/assets/css/all.css">
  <link rel="shortcut icon" href="/assets/images/favicon/favicon.ico" type="image/x-icon" />
  <link rel="mask-icon" href="/assets/images/favicon/favicon-pin.svg" color="#056BB1">
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/favicon/dolomate-57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/favicon/dolomate-60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/favicon/dolomate-72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/favicon/dolomate-76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/favicon/dolomate-114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicon/dolomate-120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/favicon/dolomate-144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/favicon/dolomate-152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/dolomate-180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/images/favicon/dolomate-192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/dolomate-32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/images/favicon/dolomate-96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/dolomate-16.png">
  <link rel="manifest" href="/assets/images/favicon/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/images/favicon/dolomate-144.png">
  <meta name="theme-color" content="#ffffff">
</head>


    <body>
      <nav class="navbar">
  <ul class="navbar-list">
    <li class="navbar-item"><a class="navbar-link" href="/#interests">Interests</a></li>
    <li class="navbar-item"><a class="navbar-link" href="/#jobs">Jobs</a></li>
    <li class="navbar-item"><a class="navbar-link" href="/#products">Products</a></li>
    <li class="navbar-item"><a class="navbar-link" href="/blog">Blog</a></li>
  </ul>
</nav>

      <div class="container blog">
        <section class="header">
  <a href="/" alt="Home"><img src="/assets/images/macteo.jpg" class="profile"/></a>
  <h2 class="title">Matteo Gavagnin</h2>
</section>

        <div class="docs-section" id="Blog">
  <div class="content-inset">
    <h4 class="docs-header">Blog</h4>
    <div class="row">
      

      <h1 class="post-title" itemprop="name headline">
        
        <img
          src="/assets/images/magic-keyboard/magic-keyboard-2-small.png"
          class="logo-post "
        />
         
        <a href="/apple/2016/10/26/magic-keyboard-2-with-Touch-ID.html">
          Magic Keyboard 2
        </a>
        
      </h1>
      <span>
        <p><p>Apple all but confirmed that the next MacBook Pro models will be unveiled tomorrow and will include support for Touch ID and a custom bar is going to replace the current top row of keys in the embedded keyboard.</p>

<p><img src="/assets/images/magic-keyboard/ApplePaySplashSA.png#center100s" alt="Pay MacBook Pro" /></p>

<p>The above image is already on your Mac if you installed the latest macOS Sierra 10.12.1 update. Check for yourself looking at</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/System/Library/PrivateFrameworks/PassKitUI.framework/Versions/A/Resources/ApplePaySplashSA.tiff
</code></pre></div></div>

<p>Besides the lack of a visible physical power button and of the <code class="highlighter-rouge">Esc</code> key, <a href="http://twitter.com/stroughtonsmith/status/790977924132433920">Steve Troughton Smith suggested</a> that developers, in order to populate the <em>Magic Bar</em> with custom controls, will need to create extensions much like the ones used in watchOS 1.</p>

</p>
      </span>
      <div class="pull-right">
        <a href="/apple/2016/10/26/magic-keyboard-2-with-Touch-ID.html">Read more&hellip;</a>
      </div>
    </div>
    <div class="row">
      

      <h1 class="post-title" itemprop="name headline">
        
        <img
          src="/assets/images/framework.png"
          class="logo-post "
        />
         
        <a href="/xcode/2016/10/18/dynamic-framework-with-cocoapods-support.html">
          Dynamic Framework with CocoaPods support
        </a>
        
      </h1>
      <span>
        <p><p>A short and compact guide to create a basic redistributable framework with CocoaPods support. This example is intended to work on iOS, but the same principles can be applied to watchOS, tvOS and macOS.</p>

<p>Create a new Xcode project and select <strong>Cocoa Touch Framework</strong>.</p>

<p><img src="/assets/images/framework/001 - create_xcode_framework_project_0.jpg#center1000" alt="Framework" /></p>

<p>For redistributable libraries Objective-C is still the language-to-go. But you can also choose to write them in Swift if the host apps are willing to include the swift runtime.</p>

<p><img src="/assets/images/framework/002 - create_xcode_framework_project_1.jpg#center1000" alt="Framework" /></p>

<p><img src="/assets/images/framework/003 - create_xcode_framework_project_2.jpg#center1000" alt="Framework" /></p>

</p>
      </span>
      <div class="pull-right">
        <a href="/xcode/2016/10/18/dynamic-framework-with-cocoapods-support.html">Read more&hellip;</a>
      </div>
    </div>
    <div class="row">
      

      <h1 class="post-title" itemprop="name headline">
        
        <img
          src="/assets/images/icons/blurred-view@2x.png"
          class="logo-post "
        />
         
        <a href="/ios/2016/08/10/blurred-rounded-uiview.html">
          Blurred Rounded UIView
        </a>
        
      </h1>
      <span>
        <p><p>Maps and Apple Music apps in iOS 10 include a brand new way to present modal contents: a floating semi-modal view. Widgets and notifications have been redesigned to be presented with a similar shape.</p>

<blockquote>
  <p>Due to beta developer agreement I cannot share screenshots of those features. However you can have a look at them visiting the dedicated <a href="http://www.apple.com/ios/ios10-preview/">iOS 10 preview page</a> on Apple’s website.</p>
</blockquote>

<p>Unfortunately the technique used in iOS 8 and 9 to round the corner won’t work anymore: you’ll end up with rounded corners and a transparent background instead.</p>

<p>There’s an <a href="https://forums.developer.apple.com/message/159201#159201">entire thread</a> on Apple’s Developer Forums with motivations behind this change (you need to register as developer to read it).</p>

<p>However the trick is to avoid using <code class="highlighter-rouge">layer.mask</code> on the view that contains the <code class="highlighter-rouge">UIVisualEffectView</code> as subview or on the <code class="highlighter-rouge">UIVisualEffectView</code> itself as we used to do. Instead you are supposed to use <code class="highlighter-rouge">layer.maskView</code> or, if you just need rounded corners, the <code class="highlighter-rouge">layer.cornerRadius</code> property associated with <code class="highlighter-rouge">layer.masksToBounds = true</code>.</p>

<p>I’ve also found that if you try to add an external shadow to the container view’s layer, you’ll end up without blur. The trick is to set the shadow inside <code class="highlighter-rouge">func layoutSubiviews()</code> override method.</p>

</p>
      </span>
      <div class="pull-right">
        <a href="/ios/2016/08/10/blurred-rounded-uiview.html">Read more&hellip;</a>
      </div>
    </div>
    <div class="row">
      

      <h1 class="post-title" itemprop="name headline">
        
        <img
          src="/assets/images/icons/bitcode@2x.png"
          class="logo-post "
        />
         
        <a href="/build/2016/08/09/libjpeg-turbo-with-bitcode.html">
          libjpeg-turbo with bitcode
        </a>
        
      </h1>
      <span>
        <p><p>For a little side project I’m developing for iOS, I needed to build <a href="http://libjpeg-turbo.virtualgl.org">libjpeg-turbo</a>.</p>

<p>Unfortunately the binary provided by the project maintainers doesn’t include <a href="https://developer.apple.com/library/tvos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html">bitcode</a> and even if at the moment it’s not compulsory (unless you are targeting <em>WatchOS</em>), I like to be future proof, as Apple will eventually require it to be included in every app binary.</p>

<p>I’ve found a <a href="https://github.com/dhoerl/libjpeg-turbo-builder">dedicated repository</a> by <a href="https://github.com/dhoerl">David Hoerl</a> with instructions to build <code class="highlighter-rouge">libjpeg-turbo</code> for iOS, but unfortunately it doesn’t include bitcode too.</p>

<p>In the issues on GitHub there’s a <a href="https://github.com/libjpeg-turbo/libjpeg-turbo/issues/5">build script</a> to build with bitcode enabled, but with the current SDK versions it fails.</p>

</p>
      </span>
      <div class="pull-right">
        <a href="/build/2016/08/09/libjpeg-turbo-with-bitcode.html">Read more&hellip;</a>
      </div>
    </div>
    <div class="row">
      

      <h1 class="post-title" itemprop="name headline">
        
        <img
          src="/assets/images/logos/cali.svg"
          class="logo-post "
        />
         
        <a href="/california/2016/08/07/we-were-here.html">
          We were here
        </a>
        
      </h1>
      <span>
        <p><p><img src="/assets/images/panorama_cali-s.jpg#center100r" alt="Panorama Cali Giau" /></p>

</p>
      </span>
      <div class="pull-right">
        <a href="/california/2016/08/07/we-were-here.html">Read more&hellip;</a>
      </div>
    </div>
    <div class="row">
      

      <h1 class="post-title" itemprop="name headline">
        
        <img
          src="/assets/images/icons/macdown@2x.png"
          class="logo-post "
        />
         
        <a href="/blog/mac/dev/2016/07/23/macdown-fork.html">
          MacDown fork
        </a>
        
      </h1>
      <span>
        <p><p>I just forked <a href="http://macdown.uranusjr.com">MacDown</a>, a popular open-source markdown editor for Mac as I have a few ideas to improve it to better suit my needs.</p>

<p>I’m looking to add some features that I wasn’t able to find in any other Mac editor to help me write blog posts. This blog like many others is powered by <a href="http://jekyllrb.com">Jekyll</a>, a ruby application capable to parse <a href="http://daringfireball.net/projects/markdown/syntax">markdown formatted</a> text files and generate a <a href="https://www.smashingmagazine.com/2015/11/modern-static-website-generators-next-big-thing/">static website</a>.</p>

<p>What I’m missing from MacDown is the ability to seamlessly write and preview my posts <strong>exactly</strong><sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup> as they will appear on the website. I’m currently able to do it with the combination of 7 apps:</p>

<ul>
  <li><a href="https://atom.io">Atom</a> (or any other text editor like MacDown itself) to write the post and</li>
  <li><a href="https://en.wikipedia.org/wiki/Terminal_(OS_X)">Terminal</a>, to run the command <code class="highlighter-rouge">bundle exec guard</code> that launches</li>
  <li><a href="https://github.com/guard/guard">Guard</a> that tells</li>
  <li><a href="http://jekyllrb.com">Jekyll</a> to regenerate the pages as soon as the file is modified and saved to disk, and also run</li>
  <li><a href="https://github.com/guard/guard-livereload">guard-livereload</a> that in combination with the</li>
  <li><a href="http://livereload.com/extensions/">LiveReload Safari Extension</a> can reload the page in</li>
  <li><a href="https://en.wikipedia.org/wiki/Safari_(web_browser)">Safari</a> as soon as a new version is available.</li>
</ul>

<p>What I’m aiming for is to be able to reduce the amount of apps needed to obtain the same result. With just <a href="https://github.com/macteo/macdown/commit/e5d28fd0d570b6856b2ce0146c36fbcc3a29a649">40 added and 4 removed lines</a> to the MacDown source code, I made a hack to remove from the workflow <a href="https://atom.io">Atom</a>, <a href="https://github.com/guard/guard">Guard</a>, <a href="https://github.com/guard/guard-livereload">guard-livereload</a>, the <a href="http://livereload.com/extensions/">LiveReload Safari Extension</a> and <a href="https://en.wikipedia.org/wiki/Safari_(web_browser)">Safari</a> itself reducing the needed apps to just three<sup id="fnref:2"><a href="#fn:2" class="footnote">2</a></sup>.</p>

<video width="100%" controls="" class="bordered">
  <source src="/assets/videos/macdown-fork-live-preview.m4v" type="video/mp4" />
  Your browser does not support HTML5 video.
</video>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>MacDown itself can live preview the document with a custom theme, or you can use <a href="http://marked2app.com">Marked</a> if you prefer to use a more capable external application. However using them you won’t be able to preview the page <em>exactly</em> as it will appear on your production website. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>Full disclosure: I’ve also added <a href="https://en.wikipedia.org/wiki/Xcode">Xcode</a> as dependency because to change the file to preview I need to recompile the app, but that’s a rough hack, as I already said. <a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
</p>
      </span>
      <div class="pull-right">
        <a href="/blog/mac/dev/2016/07/23/macdown-fork.html">Read more&hellip;</a>
      </div>
    </div>
    <div class="row">
      
    </div>
  </div>

  
  <nav role="navigation">
    <ul class="cd-pagination no-space">
      
      <li class="button">
        <a
          href="/blog/page2/"
          >Prev</a
        >
      </li>
        
      <li>
        <a
          href="/blog/page2/"
          >1</a
        >
      </li>
        
      <li>
        <a
          href="/blog/page2/"
          >2</a
        >
      </li>
        
      <li>
        <a class="current" href="#">3</a>
      </li>
        
      <li>
        <a
          href="/blog/page4/"
          >4</a
        >
      </li>
        
      <li class="button">
        <a
          href="/blog/page4/"
          >Next</a
        >
      </li>
      
    </ul>
  </nav>
  
</div>

        <div class="docs-section" id="contacts">
  <h4 class="docs-header footer">Contacts</h4>
  <div class="row">
    <div class="three columns empty">
      &nbsp;
    </div>
    <div class="six columns">
      <center>
        <a href="https://twitter.com/macteo"><img src="/assets/images/icons/twitter.svg" class="logo-small" alt="twitter"/></a>
        <a href="https://telegram.me/macteog"><img src="/assets/images/icons/telegram.svg" class="logo-small" alt="telegram"/></a>
        <a href="https://github.com/macteo"><img src="/assets/images/icons/github.svg" class="logo-small" alt="github"/></a>
        <a href="mailto:m@macteo.it"><img src="/assets/images/icons/email.svg" class="logo-small" alt="email"/></a>
      </center>
    </div>
  </div>
  <div align="center">
    <sub>Leave this world a little better than you found it<a href="https://en.wikiquote.org/wiki/Robert_Baden-Powell"><sup>1</sup></a></sub>
  </div>
</div>

<script type="text/javascript">
  function downloadJSAtOnload() {
    var all = document.createElement("script");
    all.src = "/assets/js/all.js";
    document.body.appendChild(all);
  }
  if (window.addEventListener) {
    window.addEventListener("load", downloadJSAtOnload, false);
  } else if (window.attachEvent) {
    window.attachEvent("onload", downloadJSAtOnload);
  } else {
    window.onload = downloadJSAtOnload;
  }
</script>

<link rel="stylesheet" href="/assets/css/raleway.css">

      </div>
      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67703523-2', 'auto');
  ga('send', 'pageview');

</script>
    </body>
  </html>
</html>
